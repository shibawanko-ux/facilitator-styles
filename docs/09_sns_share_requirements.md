# 「結果をシェア・保存」SNS投稿 要件定義

## 1. やりたいこと（要望の整理）

| 要望 | 内容 |
|------|------|
| SNS投稿時の告知 | 診断結果と **awareness=design** の告知を一緒に届けたい |
| メイン目的 | **診断結果を投稿してもらう**ことを主軸にしたい |
| 投稿内容 | **投稿文** ＋ **結果内容**（対象タイプの文字サマリ＆画像） |
| 拡散 | SNS投稿されたら **バズるようにしたい** |

---

## 2. 要件定義（提案）

### 2.1 投稿の目的・優先順位

1. **メイン**: 診断結果を投稿してもらう（「自分はこのタイプだった」をシェア）
2. **サブ**: 診断元である awareness=design の認知・誘導（URL・ブランド表記）

### 2.2 投稿文（テキスト）の構成要件

| 項目 | 要件 | 備考 |
|------|------|------|
| **診断結果の一言** | タイプ名＋キャッチコピーを必ず含める | 例：「私は『場の演出家』タイプでした！ 感情と流れを設計して盛り上げる」 |
| **診断の呼びかけ** | 診断への誘導文を入れる（任意） | 例：「あなたも診断してみて！」「〇〇タイプは何人いる？」 |
| **awareness=design 告知** | 提供元・URL を明示する | 例：「ファシリテータースタイル診断 by awareness=design」「https://〜」 |
| **文字数** | SNSごとの制限を考慮する | X: 本文＋URLで余裕を持たせる、LINE: 長文は省略可 |

**投稿文テンプレート案（1行〜3行程度）**

```
ファシリテータースタイル診断の結果、私は「{タイプ名}」タイプでした！ {キャッチコピー（**除去）}

あなたも診断してみて 👉 {アプリURL}
#ファシリテータースタイル #awarenessdesign
```

- 告知は「提供元＋URL＋ハッシュタグ」でまとめる想定。
- ハッシュタグは「#ファシリテータースタイル」「#awarenessdesign」など、運用で決定。

### 2.3 結果内容（文字サマリ）の要件

| 項目 | 要件 | 備考 |
|------|------|------|
| **対象** | 診断結果＝そのタイプの「モーダルに表示する内容」に相当する情報 | タイプ詳細モーダルと同じ情報を「テキスト要約」として扱う |
| **文字サマリ** | タイプ名・キャッチコピー・短い説明（1〜2文）程度 | 投稿文に含める or 画像内テキストと役割分担。SNSは「短文＋画像」が基本のため、長文は画像側に寄せる |
| **画像** | 結果画面のヒーロー部分（タイプ名・キャッチ・4軸タグ）を画像化 | 現状の「結果画像を生成」と同じ範囲で可。必要なら「モーダル風レイアウトの画像」を追加要件で検討 |

**文字サマリの具体案**

- **パターンA（短文のみ）**: 投稿文 = 上記テンプレート（タイプ名＋キャッチ＋URL＋告知）。詳細は画像で伝える。
- **パターンB（サマリ追加）**: 投稿文に「このタイプは〜」と1文だけ追加（例：detailedDescription の先頭1文を短くしたもの）。

現状実装に近いのは **パターンA**。パターンBは投稿文が長くなるため、X では「画像＋短文」を優先し、LINE/Facebook ではやや長めも許容する設計が現実的。

### 2.4 画像の要件

| 項目 | 要件 | 備考 |
|------|------|------|
| **内容** | 診断結果のヒーロー（タイプ名・キャッチ・4軸タグ）を必ず含む | 現行の resultRef キャプチャで対応可能 |
| **ロゴ** | awareness=design のロゴを画像内に入れる | 結果画面にすでにロゴがあるため、そのまま画像に含まれる |
| **オプション** | モーダルと同内容の「タイプ説明＋4象限」を1枚にまとめた画像 | 要デザイン・実装。優先度は中〜低で検討 |

### 2.5 バズ・拡散に関する要件（方針）

| 項目 | 要件 | 備考 |
|------|------|------|
| **シェアしやすさ** | ワンタップで各SNSの投稿画面を開く | ✅ 現状実装済み（X / Facebook / LINE） |
| **投稿文の最適化** | 診断結果が一言で伝わる文＋告知をテンプレート化 | 上記 2.2 のテンプレートで対応可能 |
| **URL** | シェア用に固定URL（本番ドメイン）を必ず含める | クリックで診断トップに誘導できるようにする |
| **OGP（リンクプレビュー）** | 他者がURLを貼ったときに「タイトル・説明・画像」が表示されるようにする | 要サーバー or ビルド時メタ設定。後述「できるかどうか」参照 |

「バズる」こと自体は、**コンテンツ・タイミング・コミュニティ**に依存するため、**技術要件としては「シェアしやすい投稿文・画像・URL・OGP」までを整える**範囲とする。

---

## 3. 実装観点での「できるかどうか」

### 3.1 できること（現状 or 小改修で対応可能）

| 要件 | 可否 | 補足 |
|------|------|------|
| 投稿文に診断結果（タイプ名＋キャッチ）を含める | ✅ 可能 | 現状の `shareText` を拡張するだけ |
| 投稿文に awareness=design と URL を含める | ✅ 可能 | テンプレートに「by awareness=design」「{本番URL}」を追加 |
| ハッシュタグを投稿文に含める | ✅ 可能 | テンプレートに「#ファシリテータースタイル」等を追加 |
| 結果画像にロゴを含める | ✅ 可能 | 結果画面にロゴがあるため、そのまま画像に含まれる |
| X / Facebook / LINE でシェア | ✅ 可能 | 現状実装済み |
| クリップボードに「投稿文＋URL」をコピー | ✅ 可能 | 現状実装済み。テンプレート変更で告知文を追加可能 |
| 画像のダウンロード | ✅ 可能 | 現状実装済み（html2canvas） |

### 3.2 要検討・条件付きでできること

| 要件 | 可否 | 補足 |
|------|------|------|
| 投稿文に「タイプの短い説明（1文）」を追加 | ⚠️ 要検討 | 文字数制限（X 等）と相談。1文なら可能。 |
| OGP（リンクプレビュー）で診断名・説明を出す | ⚠️ 条件付き | **同一URL**なら全ユーザー同じOGPになる。結果ごとのOGPは **結果別URL（クエリ or パス）** が必要で、SPAではサーバ/SSR or 静的ページ生成の検討が必要。 |
| 結果ごとのOGP（例：「〇〇タイプです」） | ⚠️ 条件付き | 結果タイプごとにURLを分ける（例: `/?type=conductor`）＋サーバ側 or ビルド時メタ生成が必要。Vercel のみの静的SPAでは難しい場合あり。 |

### 3.3 技術では保証できないこと

| 要件 | 可否 | 補足 |
|------|------|------|
| 「バズる」ことを保証する | ❌ 不可 | 拡散はコンテンツ・タイミング・施策に依存。技術では「シェアしやすい形」までを整える。 |
| 各SNSで「画像付き投稿」を自動で行う | ❌ 不可 | Web Share / intent では **テキスト＋URL** が基本。画像はユーザーが「画像を生成→保存→手動で添付」する流れになる。 |

---

## 4. 推奨する実装の優先順位

1. **必須（すぐに反映可能）**
   - 投稿文テンプレートに **awareness=design の告知＋本番URL** を追加する。
   - 投稿文に **ハッシュタグ**（例: #ファシリテータースタイル #awarenessdesign）を追加する（任意でON/OFFや文言は運用で調整）。

2. **推奨（短い工数）**
   - 投稿文に「あなたも診断してみて」などの **一言誘導文** を入れる。
   - コピー用テキストも同じテンプレートに揃える。

3. **余裕があれば**
   - トップページや結果ページの **OGPメタタグ** を共通で設定（タイトル・説明・画像＝ロゴ or 共通画像）。結果別OGPはURL設計とあわせて別フェーズで検討。

---

## 5. まとめ

- **やりたいこと**: 診断結果の投稿をメインに、投稿文・画像・告知で awareness=design も伝える。できるだけシェアしたくなる形にしたい。
- **要件**: 投稿文＝「診断結果（タイプ名＋キャッチ）＋告知（提供元＋URL＋ハッシュタグ）」、画像＝現行の結果画像（ロゴ含む）で足りる。
- **できること**: 上記の投稿文・画像・各SNSシェア・コピーはすべて現行ベースの拡張で対応可能。
- **バズ**: 技術では「シェアしやすい投稿文・URL・画像」まで。実際の拡散はコンテンツ・運用でカバーする。

この要件定義を `01_requirements.md` の「セクション7: シェア・保存」から参照する形でリンクを張ることを推奨する。
